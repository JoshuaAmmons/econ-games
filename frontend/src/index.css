@import "tailwindcss";

/* ═══════════════════════════════════════════════════════════════
   PIRATE DARK THEME — "Anarrrchy"
   Redefines Tailwind's default palette at the CSS level.
   Every existing component renders in dark pirate mode automatically.
   ═══════════════════════════════════════════════════════════════ */

@theme {
  /* ── Typography ── */
  --font-sans: 'Crimson Pro', Georgia, 'Times New Roman', serif;

  /* ── Neutral Grays (inverted for dark mode) ── */
  --color-white: #161b22;
  --color-gray-50: #0d1117;
  --color-gray-100: #151b24;
  --color-gray-200: #1c2333;
  --color-gray-300: #30363d;
  --color-gray-400: #6e7681;
  --color-gray-500: #8b949e;
  --color-gray-600: #b0b8c2;
  --color-gray-700: #c9d1d9;
  --color-gray-800: #d4d2cb;
  --color-gray-900: #e6e1d6;
  --color-gray-950: #f0ece3;

  /* ── Primary Accent: Muted Gold (pirate treasure) ── */
  --color-sky-50: oklch(0.25 0.02 80);
  --color-sky-100: oklch(0.30 0.03 80);
  --color-sky-200: oklch(0.40 0.05 75);
  --color-sky-300: oklch(0.55 0.08 70);
  --color-sky-400: oklch(0.65 0.10 65);
  --color-sky-500: #c5a059;
  --color-sky-600: #c5a059;
  --color-sky-700: #a88a45;
  --color-sky-800: #d4af6e;
  --color-sky-900: #e6d5a8;
  --color-sky-950: #f0e8cc;

  /* ── Success/Profit: Sea Green ── */
  --color-green-50: #0d2818;
  --color-green-100: #12361f;
  --color-green-200: #1a4a2e;
  --color-green-300: #27693f;
  --color-green-400: #2ea043;
  --color-green-500: #3fb950;
  --color-green-600: #3fb950;
  --color-green-700: #3fb950;
  --color-green-800: #7ee787;
  --color-green-900: #aff5b4;
  --color-green-950: #d6fdd9;

  /* ── Danger/Loss: Crimson ── */
  --color-red-50: #2d1215;
  --color-red-100: #3d1519;
  --color-red-200: #5a2a2a;
  --color-red-300: #8b3a3a;
  --color-red-400: #da3633;
  --color-red-500: #f85149;
  --color-red-600: #f85149;
  --color-red-700: #f85149;
  --color-red-800: #ffa198;
  --color-red-900: #ffd0cc;
  --color-red-950: #ffe8e5;

  /* ── Warning: Amber/Doubloon Gold ── */
  --color-amber-50: #2a1f0d;
  --color-amber-100: #3a2a10;
  --color-amber-200: #5a4018;
  --color-amber-300: #8a6420;
  --color-amber-400: #bf8a28;
  --color-amber-500: #d29922;
  --color-amber-600: #d29922;
  --color-amber-700: #e6b530;
  --color-amber-800: #f0c850;
  --color-amber-900: #f5d980;
  --color-amber-950: #faeab0;

  /* ── Info: Ocean Blue ── */
  --color-blue-50: #0d1a2d;
  --color-blue-100: #0f2240;
  --color-blue-200: #163356;
  --color-blue-300: #1f4e7a;
  --color-blue-400: #388bfd;
  --color-blue-500: #58a6ff;
  --color-blue-600: #58a6ff;
  --color-blue-700: #79c0ff;
  --color-blue-800: #a5d6ff;
  --color-blue-900: #cce5ff;
  --color-blue-950: #e5f0ff;

  /* ── Instructor: Purple ── */
  --color-purple-50: #1a0d2d;
  --color-purple-100: #251540;
  --color-purple-200: #362060;
  --color-purple-300: #553098;
  --color-purple-400: #8957e5;
  --color-purple-500: #bc8cff;
  --color-purple-600: #bc8cff;
  --color-purple-700: #d4a8ff;
  --color-purple-800: #e0c0ff;
  --color-purple-900: #ecd8ff;
  --color-purple-950: #f5ecff;

  /* ── Yellow ── */
  --color-yellow-50: #2a2510;
  --color-yellow-100: #3a3215;
  --color-yellow-200: #5a4e20;
  --color-yellow-300: #8a7830;
  --color-yellow-400: #c0a040;
  --color-yellow-500: #d4b440;
  --color-yellow-600: #d4b440;
  --color-yellow-700: #e6c030;
  --color-yellow-800: #f0d050;
  --color-yellow-900: #f8e080;
  --color-yellow-950: #fcefb0;

  /* ── Orange ── */
  --color-orange-50: #2d1a0d;
  --color-orange-100: #3d2410;
  --color-orange-200: #5a3518;
  --color-orange-300: #8a5520;
  --color-orange-400: #d18616;
  --color-orange-500: #f0883e;
  --color-orange-600: #f0883e;
  --color-orange-700: #f5a060;
  --color-orange-800: #f8b880;
  --color-orange-900: #fcd0a0;
  --color-orange-950: #fee5c8;

  /* ── Teal (used in some game UIs) ── */
  --color-teal-50: #0d2825;
  --color-teal-100: #12362f;
  --color-teal-200: #1a4a42;
  --color-teal-300: #276960;
  --color-teal-400: #2ea08a;
  --color-teal-500: #3fbfa0;
  --color-teal-600: #3fbfa0;
  --color-teal-700: #60d4b8;
  --color-teal-800: #80e5cc;
  --color-teal-900: #b0f0e0;
  --color-teal-950: #d6f8ef;

  /* ── Indigo (used in some analytics) ── */
  --color-indigo-50: #0d102d;
  --color-indigo-100: #151a40;
  --color-indigo-200: #1e2660;
  --color-indigo-300: #2d3a98;
  --color-indigo-400: #4f5dd5;
  --color-indigo-500: #6e7eff;
  --color-indigo-600: #6e7eff;
  --color-indigo-700: #8b98ff;
  --color-indigo-800: #a8b2ff;
  --color-indigo-900: #c8d0ff;
  --color-indigo-950: #e5e8ff;

  /* ── Pink/Rose (used sparingly) ── */
  --color-pink-50: #2d0d1a;
  --color-pink-100: #401525;
  --color-pink-200: #602038;
  --color-pink-300: #983060;
  --color-pink-400: #d5578a;
  --color-pink-500: #ff8cb8;
  --color-pink-600: #ff8cb8;
  --color-pink-700: #ffa8cc;
  --color-pink-800: #ffc0dd;
  --color-pink-900: #ffd8ee;
  --color-pink-950: #ffecf5;
}

/* ── Base Styles ── */
@layer base {
  body {
    @apply bg-gray-50 text-gray-900;
    margin: 0;
    min-height: 100vh;
    font-feature-settings: 'kern' 1, 'liga' 1;
    letter-spacing: 0.01em;
    line-height: 1.6;
  }

  /* Improved scrollbar for dark theme */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  ::-webkit-scrollbar-track {
    background: #0d1117;
  }
  ::-webkit-scrollbar-thumb {
    background: #30363d;
    border-radius: 4px;
  }
  ::-webkit-scrollbar-thumb:hover {
    background: #484f58;
  }

  /* Selection color */
  ::selection {
    background: rgba(197, 160, 89, 0.3);
    color: #e6e1d6;
  }

  /* Input placeholder */
  ::placeholder {
    color: #6e7681;
    opacity: 1;
  }
}

/* ── Water Backdrop ── */
.water-backdrop {
  position: fixed;
  inset: 0;
  z-index: -1;
  overflow: hidden;
  pointer-events: none;
}

.water-backdrop::before {
  content: '';
  position: absolute;
  inset: -10%;
  background: linear-gradient(
    180deg,
    #0d1117 0%,
    #0c1525 30%,
    #0e1a30 60%,
    #0d1117 100%
  );
  filter: url(#water-turbulence);
  opacity: 0.6;
  animation: water-drift 25s ease-in-out infinite;
}

.water-backdrop::after {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(ellipse at 20% 80%, rgba(197, 160, 89, 0.03) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 20%, rgba(88, 166, 255, 0.02) 0%, transparent 50%);
  pointer-events: none;
}

@keyframes water-drift {
  0%, 100% { transform: translate(0, 0) scale(1.1); }
  25% { transform: translate(-1%, 0.5%) scale(1.1); }
  50% { transform: translate(0.5%, -0.5%) scale(1.1); }
  75% { transform: translate(1%, 0.5%) scale(1.1); }
}

/* ── Pirate Quote Styling ── */
.pirate-quote {
  font-style: italic;
  font-size: 0.75rem;
  line-height: 1.4;
  color: #6e7681;
  border-left: 2px solid #30363d;
  padding-left: 0.75rem;
  margin-top: 0.75rem;
  opacity: 0.7;
  transition: opacity 0.3s ease;
}

.pirate-quote:hover {
  opacity: 1;
}

.pirate-quote cite {
  display: block;
  font-size: 0.65rem;
  color: #484f58;
  margin-top: 0.25rem;
  font-style: normal;
}

/* ── Shadow adjustments for dark mode ── */
@layer utilities {
  .shadow-md {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3), 0 0 0 1px rgba(48, 54, 61, 0.4);
  }
  .shadow-lg {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4), 0 0 0 1px rgba(48, 54, 61, 0.4);
  }
  .shadow-sm {
    box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2), 0 0 0 1px rgba(48, 54, 61, 0.3);
  }
}

/* ═══════════════════════════════════════════════════════════════
   LANDING SCENE — Moonlit Bay with Pirate Ship
   ═══════════════════════════════════════════════════════════════ */

.landing-scene {
  position: absolute;
  inset: 0;
  overflow: hidden;
  pointer-events: none;
}

/* ── Sky ── */
.scene-sky {
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg,
    #050910 0%,
    #0a1020 20%,
    #0c1528 45%,
    #0e1a30 65%,
    #0d1522 85%,
    #0d1117 100%
  );
}

/* Moon — soft silver glow */
.scene-moon {
  position: absolute;
  top: 8%;
  right: 15%;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background: radial-gradient(circle,
    rgba(220, 225, 240, 0.15) 0%,
    rgba(200, 210, 230, 0.08) 40%,
    transparent 70%
  );
  box-shadow:
    0 0 40px rgba(200, 210, 230, 0.06),
    0 0 80px rgba(200, 210, 230, 0.03);
}

/* Stars — tiny dots via box-shadow */
.scene-stars {
  position: absolute;
  inset: 0;
  overflow: hidden;
}
.scene-stars::before {
  content: '';
  position: absolute;
  width: 2px;
  height: 2px;
  background: transparent;
  box-shadow:
    120px 30px rgba(220,225,240,0.3),
    340px 55px rgba(220,225,240,0.2),
    540px 20px rgba(220,225,240,0.25),
    720px 45px rgba(220,225,240,0.15),
    890px 15px rgba(220,225,240,0.3),
    1050px 60px rgba(220,225,240,0.2),
    200px 90px rgba(220,225,240,0.15),
    450px 80px rgba(220,225,240,0.2),
    680px 95px rgba(220,225,240,0.25),
    850px 70px rgba(220,225,240,0.15),
    150px 130px rgba(220,225,240,0.1),
    400px 115px rgba(220,225,240,0.15),
    650px 140px rgba(220,225,240,0.1),
    950px 110px rgba(220,225,240,0.2),
    1100px 35px rgba(220,225,240,0.15),
    80px 160px rgba(220,225,240,0.1),
    300px 150px rgba(220,225,240,0.15),
    560px 170px rgba(220,225,240,0.1),
    780px 155px rgba(220,225,240,0.2);
  animation: star-twinkle 8s ease-in-out infinite alternate;
}

@keyframes star-twinkle {
  0% { opacity: 0.6; }
  50% { opacity: 1; }
  100% { opacity: 0.7; }
}

/* ── Birds ── */
.scene-birds {
  position: absolute;
  inset: 0;
}

.scene-bird {
  position: absolute;
  width: 14px;
  height: 6px;
  will-change: transform;
}

.scene-bird-0 { top: 18%; left: -5%; animation: bird-flock-0 18s linear infinite; opacity: 0.6; width: 12px; }
.scene-bird-1 { top: 22%; left: -8%; animation: bird-flock-1 22s linear infinite; animation-delay: -3s; opacity: 0.7; width: 15px; }
.scene-bird-2 { top: 15%; left: -3%; animation: bird-flock-2 20s linear infinite; animation-delay: -7s; opacity: 0.5; width: 10px; }
.scene-bird-3 { top: 25%; left: -6%; animation: bird-flock-3 24s linear infinite; animation-delay: -11s; opacity: 0.65; width: 13px; }
.scene-bird-4 { top: 20%; left: -4%; animation: bird-flock-0 19s linear infinite; animation-delay: -5s; opacity: 0.55; width: 11px; }
.scene-bird-5 { top: 28%; left: -7%; animation: bird-flock-2 21s linear infinite; animation-delay: -9s; opacity: 0.5; width: 9px; }
.scene-bird-6 { top: 16%; left: -5%; animation: bird-flock-1 23s linear infinite; animation-delay: -14s; opacity: 0.45; width: 10px; }
.scene-bird-7 { top: 24%; left: -9%; animation: bird-flock-3 20s linear infinite; animation-delay: -2s; opacity: 0.6; width: 12px; }

@keyframes bird-flock-0 {
  0%   { transform: translate(0, 0); }
  25%  { transform: translate(30vw, -2vh); }
  50%  { transform: translate(55vw, 1vh); }
  75%  { transform: translate(80vw, -1.5vh); }
  100% { transform: translate(110vw, 0.5vh); }
}
@keyframes bird-flock-1 {
  0%   { transform: translate(0, 0); }
  25%  { transform: translate(28vw, 1.5vh); }
  50%  { transform: translate(52vw, -1vh); }
  75%  { transform: translate(78vw, 2vh); }
  100% { transform: translate(110vw, -0.5vh); }
}
@keyframes bird-flock-2 {
  0%   { transform: translate(0, 0); }
  25%  { transform: translate(32vw, -1vh); }
  50%  { transform: translate(58vw, 2vh); }
  75%  { transform: translate(82vw, -0.5vh); }
  100% { transform: translate(110vw, 1vh); }
}
@keyframes bird-flock-3 {
  0%   { transform: translate(0, 0); }
  25%  { transform: translate(26vw, 2vh); }
  50%  { transform: translate(50vw, -1.5vh); }
  75%  { transform: translate(76vw, 1vh); }
  100% { transform: translate(110vw, -1vh); }
}

/* ── Ship ── */
.scene-ship-wrapper {
  position: absolute;
  bottom: 10%;
  left: 50%;
  transform: translateX(-50%);
  width: clamp(220px, 30vw, 380px);
  will-change: transform;
  animation: ship-rock 7s ease-in-out infinite;
  transform-origin: center bottom;
}

.scene-ship {
  width: 100%;
  height: auto;
  display: block;
}

@keyframes ship-rock {
  0%, 100% { transform: translateX(-50%) rotate(0deg); }
  25% { transform: translateX(-50%) rotate(1.2deg); }
  75% { transform: translateX(-50%) rotate(-1.2deg); }
}

/* Lanterns — amber glow */
.scene-lantern {
  fill: #c5a059;
  filter: drop-shadow(0 0 4px rgba(197, 160, 89, 0.6));
  animation: lantern-glow 3s ease-in-out infinite;
}
.scene-lantern-delay-1 { animation-delay: -0.8s; }
.scene-lantern-delay-2 { animation-delay: -1.6s; }
.scene-lantern-delay-3 { animation-delay: -2.4s; }

@keyframes lantern-glow {
  0%, 100% { opacity: 0.5; }
  50% { opacity: 0.85; }
}

/* ── Water ── */
.scene-water {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  height: 25%;
}

.scene-wave {
  position: absolute;
  bottom: 0;
  width: 200%;
  height: 100%;
  will-change: transform;
}

.scene-wave-1 {
  animation: wave-drift-1 12s linear infinite;
  opacity: 0.8;
}
.scene-wave-2 {
  animation: wave-drift-2 16s linear infinite;
  opacity: 0.6;
}
.scene-wave-3 {
  animation: wave-drift-3 10s linear infinite;
  opacity: 1;
}

@keyframes wave-drift-1 {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}
@keyframes wave-drift-2 {
  0% { transform: translateX(-25%); }
  100% { transform: translateX(-75%); }
}
@keyframes wave-drift-3 {
  0% { transform: translateX(-10%); }
  100% { transform: translateX(-60%); }
}

/* Moonlight shimmer on water */
.scene-water-shimmer {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 40%;
  background: repeating-linear-gradient(
    90deg,
    transparent 0px,
    transparent 40px,
    rgba(200, 210, 230, 0.02) 42px,
    rgba(200, 210, 230, 0.04) 44px,
    transparent 46px,
    transparent 120px
  );
  animation: shimmer-drift 8s ease-in-out infinite alternate;
}

@keyframes shimmer-drift {
  0% { transform: translateX(-5px); opacity: 0.5; }
  100% { transform: translateX(5px); opacity: 0.8; }
}

/* ── Reduced motion ── */
@media (prefers-reduced-motion: reduce) {
  .scene-bird,
  .scene-ship-wrapper,
  .scene-lantern,
  .scene-wave,
  .scene-water-shimmer,
  .scene-stars::before {
    animation: none !important;
  }
  .scene-bird {
    display: none;
  }
}
